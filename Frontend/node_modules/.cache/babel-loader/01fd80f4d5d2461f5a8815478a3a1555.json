{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amilc\\\\Documents\\\\GitHub\\\\Cio_Dashboard\\\\Frontend\\\\src\\\\components\\\\pages\\\\cio-hardware\\\\CustoReparacao.jsx\";\nimport { Box } from \"@mui/system\";\nimport { Component } from \"react\";\nimport { RadialChart, DiscreteColorLegend } from \"react-vis\";\nimport { styled } from \"@mui/material/styles\";\nimport { Paper } from \"@mui/material\";\nimport { connect } from \"react-redux\";\nimport { retrieveRequisicaos } from \"../../../conection/requisicaos/actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Item = styled(Paper)(({\n  theme\n}) => ({ ...theme.typography.body2,\n  padding: theme.spacing(1),\n  textAlign: \"center\",\n  color: theme.palette.text.secondary,\n  borderColor: \"black\"\n}));\n\nclass CustoReparacao extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Custo: [{\n        angle: null,\n        label: null\n      }, {\n        angle: null,\n        label: null\n      }, {\n        angle: null\n      }, {\n        angle: null\n      }]\n    };\n  }\n\n  componentDidMount() {\n    this.props.retrieveRequisicaos();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.agenciaNome !== this.props.agenciaNome) {\n      this.handleRequisicao(this.props.agenciaNome);\n    }\n  }\n\n  handleRequisicao(agenciaNome) {\n    const resultado = this.props.requisicaos.filter(resultado => resultado.equipamento.agencia === agenciaNome);\n    let ValorMenor1 = 0;\n    let total = 0;\n    let ValorEntre12 = 0;\n    let ValorEntre23 = 0;\n    let ValorMaior4 = 0;\n    let percentagem1;\n    let percentagem2;\n    let percentagem3;\n    let percentagem4;\n    resultado.map(e => {\n      if (e.custo != null) {\n        total += 1;\n      }\n\n      if (e.custo < 3000) {\n        ValorMenor1 += 1;\n      } else if (e.custo >= 3000 && e.custo < 5000) {\n        ValorEntre12 += 1;\n      } else if (e.custo >= 5000 && e.custo < 1000) {\n        ValorEntre23 += 1;\n      } else if (e.custo > 4) {\n        ValorMaior4 += 1;\n      }\n\n      percentagem1 = parseFloat((ValorMenor1 / total * 100).toFixed(2));\n      percentagem2 = parseFloat((ValorEntre12 / total * 100).toFixed(2));\n      percentagem3 = parseFloat((ValorEntre23 / total * 100).toFixed(2));\n      percentagem4 = parseFloat((ValorMaior4 / total * 100).toFixed(2));\n    });\n    this.setState({\n      Custo: [{\n        angle: ValorMenor1,\n        label: percentagem1\n      }, {\n        angle: ValorEntre12,\n        label: percentagem2\n      }, {\n        angle: ValorEntre23,\n        label: percentagem3\n      }, {\n        angle: ValorMaior4,\n        label: percentagem4\n      }]\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      gridColumn: \"span 6\",\n      children: /*#__PURE__*/_jsxDEV(Item, {\n        elevation: 3,\n        children: [/*#__PURE__*/_jsxDEV(\"center\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p1\", {\n            children: [\"Custo de Equipamento por Agencia (Percentagem %)\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(RadialChart, {\n            data: this.state.Custo,\n            width: 250,\n            height: 250,\n            labelsRadiusMultiplier: 0.7,\n            labelsStyle: {\n              fontSize: 12\n            },\n            showLabels: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DiscreteColorLegend, {\n          orientation: \"horizontal\",\n          items: [{\n            title: \"<=3000\",\n            color: \"#79C7E3\"\n          }, {\n            title: \"3000-5000mm\",\n            color: \"#FF9833\"\n          }, {\n            title: \"5000-10000\",\n            color: \"#1A3177\"\n          }, {\n            title: \">10000\",\n            color: \"#12939A\"\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToprops = state => ({\n  requisicaos: state.requisicaos\n});\n\nexport default connect(mapStateToprops, {\n  retrieveRequisicaos\n})(CustoReparacao);","map":{"version":3,"sources":["C:/Users/amilc/Documents/GitHub/Cio_Dashboard/Frontend/src/components/pages/cio-hardware/CustoReparacao.jsx"],"names":["Box","Component","RadialChart","DiscreteColorLegend","styled","Paper","connect","retrieveRequisicaos","Item","theme","typography","body2","padding","spacing","textAlign","color","palette","text","secondary","borderColor","CustoReparacao","constructor","props","state","Custo","angle","label","componentDidMount","componentDidUpdate","prevProps","prevState","agenciaNome","handleRequisicao","resultado","requisicaos","filter","equipamento","agencia","ValorMenor1","total","ValorEntre12","ValorEntre23","ValorMaior4","percentagem1","percentagem2","percentagem3","percentagem4","map","e","custo","parseFloat","toFixed","setState","render","fontSize","title","mapStateToprops"],"mappings":"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","sourcesContent":["import { Box } from \"@mui/system\";\r\nimport { Component } from \"react\";\r\nimport {\r\n  RadialChart,\r\n  DiscreteColorLegend,\r\n} from \"react-vis\";\r\n\r\nimport { styled } from \"@mui/material/styles\";\r\nimport { Paper } from \"@mui/material\";\r\nimport { connect } from \"react-redux\";\r\nimport { retrieveRequisicaos } from \"../../../conection/requisicaos/actions\";\r\n\r\nconst Item = styled(Paper)(({ theme }) => ({\r\n  ...theme.typography.body2,\r\n  padding: theme.spacing(1),\r\n  textAlign: \"center\",\r\n  color: theme.palette.text.secondary,\r\n  borderColor: \"black\",\r\n}));\r\n\r\n\r\nclass CustoReparacao extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      Custo: [\r\n        { angle: null, label: null },\r\n        { angle: null, label: null },\r\n        { angle: null },\r\n        { angle: null },\r\n      ],\r\n    };\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.props.retrieveRequisicaos();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n\r\n    if (prevProps.agenciaNome !== this.props.agenciaNome) {\r\n      this.handleRequisicao(this.props.agenciaNome)\r\n    }\r\n\r\n  }\r\n\r\n  handleRequisicao(agenciaNome) {\r\n\r\n    const resultado = this.props.requisicaos.filter(\r\n      (resultado) => resultado.equipamento.agencia === agenciaNome\r\n    );\r\n\r\n    let ValorMenor1 = 0;\r\n    let total = 0;\r\n    let ValorEntre12 = 0;\r\n    let ValorEntre23 = 0;\r\n    let ValorMaior4 = 0;\r\n    let percentagem1;\r\n    let percentagem2;\r\n    let percentagem3;\r\n    let percentagem4;\r\n\r\n    resultado.map((e) => {\r\n      if (e.custo != null) {\r\n        total += 1;\r\n      }\r\n      if (e.custo < 3000) {\r\n        ValorMenor1 += 1;\r\n      } else if (e.custo >= 3000 && e.custo < 5000) {\r\n        ValorEntre12 += 1;\r\n      } else if (e.custo >= 5000 && e.custo < 1000) {\r\n        ValorEntre23 += 1;\r\n      } else if (e.custo > 4) {\r\n        ValorMaior4 += 1;\r\n      }\r\n      percentagem1 = parseFloat(((ValorMenor1 / total) * 100).toFixed(2));\r\n      percentagem2 = parseFloat(((ValorEntre12 / total) * 100).toFixed(2));\r\n      percentagem3 = parseFloat(((ValorEntre23 / total) * 100).toFixed(2));\r\n      percentagem4 = parseFloat(((ValorMaior4 / total) * 100).toFixed(2));\r\n    });\r\n\r\n    this.setState({\r\n      Custo: [\r\n        { angle: ValorMenor1, label: percentagem1 },\r\n        { angle: ValorEntre12, label: percentagem2 },\r\n        { angle: ValorEntre23, label: percentagem3 },\r\n        { angle: ValorMaior4, label: percentagem4 },\r\n      ],\r\n    });\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Box gridColumn=\"span 6\">\r\n        <Item elevation={3}>\r\n          <center>\r\n            <p1>\r\n              Custo de Equipamento por Agencia (Percentagem %){\" \"}\r\n            </p1>\r\n            <RadialChart\r\n              data={this.state.Custo}\r\n              width={250}\r\n              height={250}\r\n              labelsRadiusMultiplier={0.7}\r\n              labelsStyle={{\r\n                fontSize: 12,\r\n              }}\r\n              showLabels\r\n            />\r\n          </center>\r\n\r\n          <DiscreteColorLegend\r\n            orientation=\"horizontal\"\r\n            items={[\r\n              { title: \"<=3000\", color: \"#79C7E3\" },\r\n              { title: \"3000-5000mm\", color: \"#FF9833\" },\r\n              { title: \"5000-10000\", color: \"#1A3177\" },\r\n              { title: \">10000\", color: \"#12939A\" },\r\n            ]}\r\n          />\r\n        </Item>\r\n      </Box>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToprops = state => ({\r\n  requisicaos: state.requisicaos,\r\n});\r\n\r\n\r\nexport default connect(mapStateToprops, { retrieveRequisicaos, })(CustoReparacao);"]},"metadata":{},"sourceType":"module"}